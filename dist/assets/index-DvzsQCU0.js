(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(o){if(o.ep)return;o.ep=!0;const t=s(o);fetch(o.href,t)}})();class i{constructor(r){this.pokemon=r;const s=localStorage.getItem(`fav-${r.name}`);this.isFav,this.card=document.createElement("div"),this.card.className="pokemon__card",this.card.innerHTML=`
        <img src="" alt="no-fav" class="pokeball__nofav" />     
        <img src="${r.sprites.front_default}" alt="${r.name}" />
            <h3>${r.name.toUpperCase()}</h3>
        `}changeFav(){this.isFav=!this.isFav,this.favIcon?this.isFav?this.favIcon.src="../../images/icons/pokeball-fav.svg":this.favIcon.src="../../images/icons/pokeball-no-fav.svg":console.error("El elemento favIcon no fue encontrado."),localStorage.setItem(`fav-${this.pokemon.name}`,this.isFav.toString())}render(r){if(r.appendChild(this.card),this.favIcon=this.card.querySelector(".pokeball__nofav"),this.isFav?this.favIcon.src="../../images/icons/pokeball-fav.svg":this.favIcon.src="../../images/icons/pokeball-no-fav.svg",this.favIcon)this.favIcon.addEventListener("click",this.changeFav.bind(this));else return}}const c=()=>fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(e=>e.json()).then(e=>{console.log(e);const r=e.results.map(s=>fetch(s.url).then(n=>n.json()));return Promise.all(r)}).catch(e=>{console.error("Error al obtener los datos:",e)}),l=document.getElementById("pokemon-container");document.querySelector(".pokeball__nofav");const f=()=>{c().then(e=>{e.forEach(r=>{new i(r).render(l)})}).catch(e=>console.error(e))};f();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./Service_Worker.js").then(e=>{console.log("ServiceWorker registrado con Ã©xito en el scope:",e.scope)}).catch(e=>{console.error("Fallo al registrar el ServiceWorker:",e)})});
